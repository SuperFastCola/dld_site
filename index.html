<!doctype html>
<!--[if (IE 9) | (lt IE 9)]> <html class="ie9-and-lower"> <![endif]-->
<!--[if gt IE 9]><!--> <html> <!--<![endif]-->
<head>
	<title>Anthony Baker</title>
	<meta charset="utf-8" />
	<meta id="view_port" name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<style type="text/css">
	@@includecss
	</style>
	
	<!--[if (IE 9) | (lt IE 9)]> 
	<style type="text/css">
			#loader{
				width: 300px;
			}

			#granny{
				width: 300px;
				height: 165px;
				top: 85px;
			}

			#loader span{
				top: 60px;
			}
	</style>
	<![endif]-->
</head>

<body ng-app="projectTriage" ng-init="clipBody=false;" ng-controller="listProjects" scrollposition="" ng-class="{clipBody: clipBody}" class="clip_car">	

	<div id="loader" class="left"><h1 id="granny_says">Gassin' Up!<i>Sweety Pie</i></h1><span></span><div id="granny"></div></div>	

	<div class="navigation clearfix" id="navigation" ng-class="{showing: showNav}" >
		<!-- <button ng-repeat="x in filteredItems = (projects | filter:{'type':(!!selectedType || undefined || '!illo')})" ng-click="setType($index)" ng-class="{selected: isActive($index)}">{{ x.name }}</button> -->

		<a ng-href="#{{x}}" ng-repeat="x in types" ng-click="setType(x,$index)" ng-class="{selected: isActive($index)}"><span>{{ x }}</span></a>

	</div>

	<div class="container" id="container" autoresize="" ng-class="{showing: showNav}">
		<canvas id="hamburger" ng-click="navSlider($event)" ng-class="{showing: showNav}"></canvas>

		<div class="holder">
			<div id="portfolio_header">
				<div class="dude"><span>Hi!</span></div>
			</div>

			<div class="project_description" ng-class="{showing: showDescription}" >
				<div class="description_holder" ng-class="{illo: expandForIllo}">
					<div class="icon_holder close">
						<svg class="icon" ng-click="hideProject($event)">
							<path class="symbol" d="M 3 3 L 38 38 M 38 3 L 3 38" />
						</svg>
					</div>
					
					<div class="imageDisplay" ng-class="{fullwidth: !project.description, expanded: showAllInfo}" >
						<div class="icon_holder expand">
							<svg class="icon" ng-click="expandInfo()">
								<path class="symbol" d="M 3 3 L 20 19 L 38 3" />
							</svg>
						</div>

						<img ng-src={{projectImage}} ng-init="detailImageLoaded = false;" ng-class="{loadingDetail: descriptionImageLoaded(), notext: !project.description}"/>
					</div>


					<div class="info_holder" ng-if="project.description">
						<h1>{{project.name}}</h1>

						<p class="info description" ng-if="project.description"><span>{{project.description}}</span></p>
						<p class="info role" ng-if="project.role"><span>Role</span>{{project.role}}</p>
						<p class="info tech" ng-if="project.tech"><span>Technology</span>{{project.tech}}</p>
					</div>
				</div>
				<div class="breaker"></div>
			</div>

			<div class="content_area" ng-class="{showContent: contentSection}">
				<div class="content-holder" id="{{contentSectioninfo.id}}">
						<h1 ng-if="contentSectioninfo.title" >{{contentSectioninfo.title}}</h1>
						<div class="content-body" id="content-body-holder" ng-bind-html="downloadedContent"></div>
				</div>
			</div>

			<div id="portfolio_area">

				
				<div class="project-holder" ng-init="imageLoading = true; imageLoaded = false;" ng-class="{loading: !imageLoaded}" id="{{x.id}}" check-object-position ng-style="backgroundStyle" ng-repeat="x in filteredItems = (projects | filter:getFilter())" show-on-click>
					
					<a class="project_button" ng-href="#/project/{{x.id}}">
						<span class="project-details-butn hidden" show-on-hover-parent>Project Details</span>
						<span class="project-name" hide-on-hover-parent>{{ x.name }}</span>
					</a>

				</div>

			</div>

		</div>
	</div>
	<script type="text/javascript">(function(win){

	var links = new Array();
	links.push("/css/style.css");

	var cssFontLinks = new Array();
	cssFontLinks.push("https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i|Oswald");
	
	var scripts = new Array();
	scripts.push("/javascript/dld.js");

	var scriptsloaded = 0; 
	var cssloaded = 0; 

	// creates the XMLHTTP Object
	function createXMLHttpRequest() {
		try	{
			return new ActiveXObject("Msxml2.XMLHTTP");
		}
		catch (e) {}
		
		try{
			return new ActiveXObject("Microsoft.XMLHTTP");
		}
		catch (e) {}
		
		try{
			return new XMLHttpRequest();
			}
		catch(e){}
		
		return null;
	}

	function loadScript(scriptname){
		
		var xhr = createXMLHttpRequest();

		xhr.onreadystatechange = function() 
		{
			if (xhr.readyState==4) 
			{// Request is finished
			
				if (xhr.status!=200)
				{
				}// end if 
				else{
					appendScript(xhr.responseText);
				}// end if 
			}// end main if
			else
			{	
				//showErrorPanel("An error occurred with your submission. Please contact customer support!");
			}
		}// end onreadystatechange function
		
		xhr.open("GET", scriptname, true);
		xhr.setRequestHeader("Content-type","application/javascript");
		xhr.send();
	}

	function loadCSS(linklocation){
		
		if(typeof linklocation != "undefined"){

			var xhr = createXMLHttpRequest();

			xhr.onreadystatechange = function() 
			{
				if (xhr.readyState==4) 
				{// Request is finished
				
					if (xhr.status!=200)
					{
					}// end if 
					else{
						appendCSS(xhr.responseText);
					}// end if 
				}// end main if
				else
				{	
					//showErrorPanel("An error occurred with your submission. Please contact customer support!");
				}
			}// end onreadystatechange function
			
			xhr.open("GET", linklocation, true);
			xhr.setRequestHeader("Content-type","text/css");
			xhr.send();
		}
	}

	function unclipBodyRemoveCar(){
		setTimeout(function(){
			//jquery is loaded at this point
			var loader = document.getElementById("loader");
			document.body.removeChild(loader);
			document.body.className = "";
			
		},500);
	}

	function appendScript(output){
		var head = document.head || document.getElementsByTagName("head")[0];
		var s = document.createElement("script");
		s.type = "text/javascript";
		s.text = output;
		head.appendChild(s);
		scriptsloaded++;

		//loadOtherScripts(scriptsloaded);

		if(scriptsloaded>scripts.length){
			document.getElementById("granny_says").innerHTML = "Pedal to the Metal!<i>Puddin'</i>";
		}

		if(scriptsloaded==scripts.length){
			loadCSS(links[cssloaded]);
			document.getElementById("loader").className="right";
		}
	}

	function appendCSS(output){
		var head = document.head || document.getElementsByTagName("head")[0];
		
		var dldcss = document.createElement("style");
		dldcss.text = "text/css";
		dldcss.media = "screen";
		head.appendChild(dldcss);

		if(dldcss.styleSheet){
			dldcss.styleSheet.cssText = output;
		}
		else{
			dldcss.appendChild(document.createTextNode(output));
		}

		cssloaded++;

		if(typeof links[cssloaded] != "undefined"){
			loadCSS(links[cssloaded]);
		}



		if(cssloaded==links.length){
			document.getElementById("loader").className="right";
			unclipBodyRemoveCar();
			loadCSSFontLinks();

			
			var timeout = setTimeout(function(){
				console.log("timeout" + " " + cssloaded + " " + links.length);
				document.getElementById("container").style.display="block";
				document.getElementById("portfolio_header").style.display="block";
				document.getElementById("navigation").style.display="block";
				
			},500);
		}
	}

	function loadJquery(){
		document.getElementById("loader").className="";
		document.getElementsByTagName("body").className="clip_car";

		loadScript(scripts[0]);
	}

	function loadOtherScripts(indice){
		if(typeof scripts[indice] != "undefined"){
			loadScript(scripts[indice]);
		}
	}

	//https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Using_CSS_animations/Detecting_CSS_animation_support
	function checkForAnimations(){

		var elm = document.createElement("div");
		document.body.appendChild(elm);

		var animation = false,
		    animationstring = 'animation',
		    keyframeprefix = '',
		    domPrefixes = 'Webkit Moz O ms Khtml'.split(' '),
		    pfx  = '';

		if( elm.style.animationName !== undefined ) { animation = true; }    

		if( animation === false ) {
		  for( var i = 0; i < domPrefixes.length; i++ ) {
		    if( elm.style[ domPrefixes[i] + 'AnimationName' ] !== undefined ) {
		      pfx = domPrefixes[ i ];
		      animationstring = pfx + 'Animation';
		      keyframeprefix = '-' + pfx.toLowerCase() + '-';
		      animation = true;
		      break;
		    }
		  }
		}

		document.body.removeChild(elm);
		return animation;
	}

	function loadCSSFontLinks(){
		var head = document.head || document.getElementsByTagName("head")[0];

		for(var i =0;i<cssFontLinks.length;i++){

			var l = document.createElement("link");
			l.href = cssFontLinks[i];
			l.rel = "stylesheet";
			l.type = "text/css";
			head.appendChild(l);
		}

	}
	//if( typeof window.addEventListener !="undefined" && !Boolean(navigator.userAgent.match(/msie\s(7|8|9)/i))){
	if(checkForAnimations() || Boolean(navigator.userAgent.match(/msie\s(9)/i)) ){
		document.addEventListener("DOMContentLoaded",loadJquery);
	}
	else{
		document.getElementById("loader").className="";
		document.getElementById("granny_says").innerHTML = "Your engine lacks sass!<a href='http://www.deluxeluxury.com'>Older engines have to sit in lounge.</a>";	
	}

})();</script>
</body>

</html>